<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>UApp_boxed</title>
    <link rel="stylesheet" href="/css/reliablityLab/styles.css">
    <style>
        .monitor-header { position: relative; }
        .back-home {
            position: absolute;
            left: 20px;
            top: 20px;
            padding: 8px 14px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.25);
            color: #fff;
            text-decoration: none;
            border: 1px solid rgba(255,255,255,0.35);
            backdrop-filter: blur(6px);
            font-weight: 700;
        }
        .back-home:hover {
            background: rgba(99,102,241,0.35);
        }
    </style>
</head>
<body>
<div class="container">
    <!-- ËÆæÂ§áÁõëÊéßÈ¶ñÈ°µ -->
    <div id="deviceMonitorPage" class="page active">
        <div class="monitor-header">
            <a class="back-home" href="/reliablityLab/index">‚Üê ËøîÂõû‰∏ªÈ°µ</a>
            <h1 class="monitor-title">ÂèØÈù†ÊÄßÁâ©ËÅîÁΩëÊ∏©ÁÆ±ÁõëÊéßÁ≥ªÁªü</h1>
            <div class="monitor-datetime" id="monitorDatetime">2025-10-28 13:41:04</div>
        </div>

        <div class="device-grid">
            <!-- ËÆæÂ§á1 -->
            <div class="device-card" data-device-id="U680-01" onclick="enterDevice('U680-01')">
                <div class="device-card-header">
                    <div class="device-name">
                        <span class="device-icon">üå°Ô∏è</span>
                        <span class="device-id">U680-01</span>
                    </div>
                    <div class="device-status running">
                        <span class="status-dot"></span>
                        <span class="status-text">ËøêË°å‰∏≠</span>
                    </div>
                </div>
                <div class="device-card-body">
                    <!-- Â∑¶‰æßÔºöËøêË°åÊï∞ÊçÆ -->
                    <div class="device-data-section">
                        <div class="data-item">
                            <div class="data-label">Ê∏©Â∫¶</div>
                            <div class="data-value temp-value" id="tempValue-U680-01">0<span class="unit">‚ÑÉ</span></div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">ÊπøÂ∫¶</div>
                            <div class="data-value humidity-value" id="humidityValue-U680-01">60.0<span class="unit">%</span></div>
                        </div>
                    </div>

                    <!-- Âè≥‰æßÔºöÁªüËÆ°Êï∞ÊçÆ -->
                    <div class="device-stats-section">
                        <div class="device-info-grid">
                            <div class="info-item">
                                <span class="info-label">ËøêË°åÊó∂Èó¥</span>
                                <span class="info-value" id="runtime-U680-01">2H 35M 20S</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Ââ©‰ΩôÊó∂Èó¥</span>
                                <span class="info-value" id="remainingTime-U680-01">5H 25M 40S</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ÂΩìÂâçÊ®°Âºè</span>
                                <span class="info-value mode" id="mode-U680-01">ÂÆöÂÄºËØïÈ™å</span>
                            </div>
                            <div class="info-item info-item-power">
                                <div class="power-grid">
                                    <div class="power-item">
                                        <span class="power-label">Ê∏©Â∫¶ÂäüÁéáÂÄº</span>
                                        <span class="power-value" id="tempPower-U680-01">85%</span>
                                    </div>
                                    <div class="power-item">
                                        <span class="power-label">ÊπøÂ∫¶ÂäüÁéáÂÄº</span>
                                        <span class="power-value" id="humidityPower-U680-01">72%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="device-card-footer">
                    <div class="connection-status online">
                        <span class="connection-dot"></span>
                        <span>Âú®Á∫ø</span>
                    </div>
                    <div class="last-update">Êõ¥Êñ∞: 1ÁßíÂâç</div>
                </div>
            </div>

            <!-- ËÆæÂ§á2 -->
            <div class="device-card" data-device-id="U680-02" onclick="enterDevice('U680-02')">
                <div class="device-card-header">
                    <div class="device-name">
                        <span class="device-icon">üå°Ô∏è</span>
                        <span class="device-id">U680-02</span>
                    </div>
                    <div class="device-status stopped">
                        <span class="status-dot"></span>
                        <span class="status-text">Â∑≤ÂÅúÊ≠¢</span>
                    </div>
                </div>
                <div class="device-card-body">
                    <!-- Â∑¶‰æßÔºöËøêË°åÊï∞ÊçÆ -->
                    <div class="device-data-section">
                        <div class="data-item">
                            <div class="data-label">Ê∏©Â∫¶</div>
                            <div class="data-value temp-value">0<span class="unit">‚ÑÉ</span></div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">ÊπøÂ∫¶</div>
                            <div class="data-value humidity-value">55.8<span class="unit">%</span></div>
                        </div>
                    </div>

                    <!-- Âè≥‰æßÔºöÁªüËÆ°Êï∞ÊçÆ -->
                    <div class="device-stats-section">
                        <div class="device-info-grid">
                            <div class="info-item">
                                <span class="info-label">ËøêË°åÊó∂Èó¥</span>
                                <span class="info-value">0H 00M 00S</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Ââ©‰ΩôÊó∂Èó¥</span>
                                <span class="info-value">--</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ÂΩìÂâçÊ®°Âºè</span>
                                <span class="info-value mode">Á®ãÂºèËØïÈ™å</span>
                            </div>
                            <div class="info-item info-item-power">
                                <div class="power-grid">
                                    <div class="power-item">
                                        <span class="power-label">Ê∏©Â∫¶ÂäüÁéáÂÄº</span>
                                        <span class="power-value">0%</span>
                                    </div>
                                    <div class="power-item">
                                        <span class="power-label">ÊπøÂ∫¶ÂäüÁéáÂÄº</span>
                                        <span class="power-value">0%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="device-card-footer">
                    <div class="connection-status online">
                        <span class="connection-dot"></span>
                        <span>Âú®Á∫ø</span>
                    </div>
                    <div class="last-update">Êõ¥Êñ∞: 2ÁßíÂâç</div>
                </div>
            </div>

            <!-- ËÆæÂ§á3 -->
            <div class="device-card" data-device-id="U680-03" onclick="enterDevice('U680-03')">
                <div class="device-card-header">
                    <div class="device-name">
                        <span class="device-icon">üå°Ô∏è</span>
                        <span class="device-id">U680-03</span>
                    </div>
                    <div class="device-status running">
                        <span class="status-dot"></span>
                        <span class="status-text">ËøêË°å‰∏≠</span>
                    </div>
                </div>
                <div class="device-card-body">
                    <!-- Â∑¶‰æßÔºöËøêË°åÊï∞ÊçÆ -->
                    <div class="device-data-section">
                        <div class="data-item">
                            <div class="data-label">Ê∏©Â∫¶</div>
                            <div class="data-value temp-value">0<span class="unit">‚ÑÉ</span></div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">ÊπøÂ∫¶</div>
                            <div class="data-value humidity-value">65.5<span class="unit">%</span></div>
                        </div>
                    </div>

                    <!-- Âè≥‰æßÔºöÁªüËÆ°Êï∞ÊçÆ -->
                    <div class="device-stats-section">
                        <div class="device-info-grid">
                            <div class="info-item">
                                <span class="info-label">ËøêË°åÊó∂Èó¥</span>
                                <span class="info-value">5H 12M 35S</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Ââ©‰ΩôÊó∂Èó¥</span>
                                <span class="info-value">2H 48M 25S</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ÂΩìÂâçÊ®°Âºè</span>
                                <span class="info-value mode">Á®ãÂºèËØïÈ™å</span>
                            </div>
                            <div class="info-item info-item-power">
                                <div class="power-grid">
                                    <div class="power-item">
                                        <span class="power-label">Ê∏©Â∫¶ÂäüÁéáÂÄº</span>
                                        <span class="power-value">72%</span>
                                    </div>
                                    <div class="power-item">
                                        <span class="power-label">ÊπøÂ∫¶ÂäüÁéáÂÄº</span>
                                        <span class="power-value">68%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="device-card-footer">
                    <div class="connection-status online">
                        <span class="connection-dot"></span>
                        <span>Âú®Á∫ø</span>
                    </div>
                    <div class="last-update">Êõ¥Êñ∞: 1ÁßíÂâç</div>
                </div>
            </div>

            <!-- ËÆæÂ§á4 -->
            <div class="device-card" data-device-id="U680-04" onclick="enterDevice('U680-04')">
                <div class="device-card-header">
                    <div class="device-name">
                        <span class="device-icon">üå°Ô∏è</span>
                        <span class="device-id">U680-04</span>
                    </div>
                    <div class="device-status warning">
                        <span class="status-dot"></span>
                        <span class="status-text">Ë≠¶Âëä</span>
                    </div>
                </div>
                <div class="device-card-body">
                    <!-- Â∑¶‰æßÔºöËøêË°åÊï∞ÊçÆ -->
                    <div class="device-data-section">
                        <div class="data-item">
                            <div class="data-label">Ê∏©Â∫¶</div>
                            <div class="data-value temp-value warning">0<span class="unit">‚ÑÉ</span></div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">ÊπøÂ∫¶</div>
                            <div class="data-value humidity-value">48.2<span class="unit">%</span></div>
                        </div>
                    </div>

                    <!-- Âè≥‰æßÔºöÁªüËÆ°Êï∞ÊçÆ -->
                    <div class="device-stats-section">
                        <div class="device-info-grid">
                            <div class="info-item">
                                <span class="info-label">ËøêË°åÊó∂Èó¥</span>
                                <span class="info-value">1H 45M 15S</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Ââ©‰ΩôÊó∂Èó¥</span>
                                <span class="info-value">6H 15M 45S</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ÂΩìÂâçÊ®°Âºè</span>
                                <span class="info-value mode">ÂÆöÂÄºËØïÈ™å</span>
                            </div>
                            <div class="info-item info-item-power">
                                <div class="power-grid">
                                    <div class="power-item">
                                        <span class="power-label">Ê∏©Â∫¶ÂäüÁéáÂÄº</span>
                                        <span class="power-value">95%</span>
                                    </div>
                                    <div class="power-item">
                                        <span class="power-label">ÊπøÂ∫¶ÂäüÁéáÂÄº</span>
                                        <span class="power-value">88%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="device-card-footer">
                    <div class="connection-status online">
                        <span class="connection-dot"></span>
                        <span>Âú®Á∫ø</span>
                    </div>
                    <div class="last-update">Êõ¥Êñ∞: 3ÁßíÂâç</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ‰∏ªËèúÂçïÈ°µÈù¢ (WK1) -->
    <div id="menuPage" class="page">
        <div class="menu-header">
            <div class="device-id">U680</div>
            <div class="menu-datetime" id="menuDatetime">2025-10-27 17:46:01</div>
        </div>

        <div class="menu-controls">
            <button class="menu-back-btn" onclick="backToMonitor()">‚Üê ËøîÂõûÁõëÊéßÈ¶ñÈ°µ</button>
        </div>

        <div class="menu-grid">
            <button class="menu-item menu-item-yellow" onclick="navigateTo('constant')">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3">
                    <path d="M8 10h8"/>
                </svg>
                <span>ÂÆöÂÄºËØïÈ™å</span>
            </button>

            <button class="menu-item menu-item-red" onclick="navigateTo('program')">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3">
                    <path d="M8 8h8M8 12h8M8 16h8"/>
                </svg>
                <span>Á®ãÂºèËØïÈ™å</span>
            </button>

            <button class="menu-item menu-item-orange" onclick="navigateTo('settings')">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3">
                    <path d="M6 8h12M6 12h12M6 16h12"/>
                </svg>
                <span>Êìç‰ΩúËÆæÁΩÆ</span>
            </button>

            <button class="menu-item menu-item-green" onclick="navigateTo('communication')">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
                <span>ÈÄöËÆØËÆæÁΩÆ</span>
            </button>

            <button class="menu-item menu-item-purple" onclick="navigateTo('appointment')">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12 6 12 12 16 14"/>
                </svg>
                <span>È¢ÑÁ∫¶ËÆæÁΩÆ</span>
            </button>
        </div>

        <div class="menu-footer">
            <div class="error-message">Ê∏©ÊπøÂ∫¶Ê®°ÂùóËøûÊé•ÂºÇÂ∏∏</div>
            <div class="version">V1.9</div>
        </div>
    </div>

    <!-- ÂÆöÂÄºËØïÈ™åÈ°µÈù¢ (WK6/WK7) -->
    <div id="constantPage" class="page">
        <div class="header">
            <button class="menu-btn orange" onclick="navigateTo('menu')">ÁõÆÂΩï</button>
            <h1 class="header-title">ÂÆöÂÄºËØïÈ™å</h1>
            <div class="header-status">
                <div class="status-datetime" id="constantDatetime">2025-10-27 17:46:01</div>
                <div class="status-text" id="constantStatus">ËØïÈ™åÂÅúÊ≠¢</div>
            </div>
        </div>

        <div class="main-content">
            <div class="panel panel-temp">
                <div class="panel-header">
                    <span class="panel-title">Ê∏©Â∫¶</span>
                    <span class="panel-unit">‚ÑÉ</span>
                </div>
                <div class="panel-value" id="currentTemp">0.0</div>
                <div class="panel-control">
                    <div class="control-row">
                        <span class="control-label">ËÆæÂÆöÂÄº</span>
                        <div class="control-input-clickable" id="targetTempDisplay">0.0</div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">ÂäüÁéáÂÄº</span>
                        <div class="control-display" id="tempPower">0.0%</div>
                    </div>
                </div>
            </div>

            <div class="panel panel-humidity">
                <div class="panel-header">
                    <span class="panel-title">ÊπøÂ∫¶</span>
                    <span class="panel-unit">%</span>
                </div>
                <div class="panel-value" id="currentHumidity">0.0</div>
                <div class="panel-control">
                    <div class="control-row">
                        <span class="control-label">ËÆæÂÆöÂÄº</span>
                        <div class="control-input-clickable" id="targetHumidityDisplay">0.0</div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">ÂäüÁéáÂÄº</span>
                        <div class="control-display" id="humidityPower">0.0%</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bottom-section">
            <div class="time-display">
                <div class="time-box">
                    <span class="time-label">ËøêË°åÊó∂Èó¥:</span>
                    <span class="time-value" id="runtime">0H 00M 00S</span>
                </div>
                <div class="time-box">
                    <span class="time-label">Ââ©‰ΩôÊó∂Èó¥:</span>
                    <span class="time-value" id="remainingTime">--</span>
                </div>
            </div>
            <div class="action-buttons">
                <button class="action-btn" id="settingsBtn">ËÆæÁΩÆ</button>
                <button class="action-btn" id="chartBtn">Êõ≤Á∫ø</button>
                <button class="action-btn action-btn-primary" id="runBtn">ËøêË°å</button>
            </div>
        </div>
    </div>

    <!-- Á®ãÂºèËØïÈ™åÈ°µÈù¢ -->
    <div id="programPage" class="page">
        <div class="header">
            <button class="menu-btn orange" onclick="navigateTo('menu')">ÁõÆÂΩï</button>
            <h1 class="header-title">Á®ãÂºèËØïÈ™å</h1>
            <div class="header-status">
                <div class="status-datetime" id="programDatetime">2025-10-27 17:46:01</div>
                <div class="status-text" id="programStatus">ËØïÈ™åÂÅúÊ≠¢</div>
            </div>
        </div>

        <div class="main-content">
            <div class="panel panel-temp">
                <div class="panel-header">
                    <span class="panel-title">Ê∏©Â∫¶</span>
                    <span class="panel-unit">‚ÑÉ</span>
                </div>
                <div class="panel-value" id="programCurrentTemp">0.0</div>
                <div class="panel-control">
                    <div class="control-row">
                        <span class="control-label">Á®ãÂºèÂè∑</span>
                        <div class="control-input-clickable" id="programNumberDisplay">000</div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">ÂäüÁéáÂÄº</span>
                        <div class="control-display" id="programTempPower">0.0%</div>
                    </div>
                </div>
            </div>

            <div class="panel panel-humidity">
                <div class="panel-header">
                    <span class="panel-title">ÊπøÂ∫¶</span>
                    <span class="panel-unit">%</span>
                </div>
                <div class="panel-value" id="programCurrentHumidity">0.0</div>
                <div class="panel-control">
                    <div class="control-row">
                        <span class="control-label">ÊÄªÊÆµÊï∞</span>
                        <div class="control-display" id="totalSegmentsDisplay">00</div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">ÂäüÁéáÂÄº</span>
                        <div class="control-display" id="programHumidityPower">0.0%</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bottom-section">
            <div class="time-display">
                <div class="time-box">
                    <span class="time-label">ËøêË°åÊó∂Èó¥:</span>
                    <span class="time-value" id="programRuntime">0H 00M 00S</span>
                </div>
                <div class="time-box">
                    <span class="time-label">Ââ©‰ΩôÊó∂Èó¥:</span>
                    <span class="time-value" id="programRemainingTime">--</span>
                </div>
            </div>
            <div class="action-buttons">
                <button class="action-btn" id="editBtn">ÁºñËæë</button>
                <button class="action-btn" id="programChartBtn">Êõ≤Á∫ø</button>
                <button class="action-btn action-btn-primary" id="programRunBtn">ËøêË°å</button>
            </div>
        </div>
    </div>

    <!-- Êìç‰ΩúËÆæÁΩÆÈ°µÈù¢ (WK8) -->
    <div id="settingsPage" class="page">
        <div class="header">
            <button class="menu-btn orange" onclick="navigateTo('menu')">ÁõÆÂΩï</button>
            <h1 class="header-title">Êìç‰ΩúËÆæÁΩÆ1</h1>
        </div>

        <div class="settings-content">
            <div class="setting-row">
                <label class="setting-label">ËØ≠Ë®ÄÈÄâÊã©</label>
                <div class="toggle-group">
                    <button class="toggle-btn active" id="langZh">‰∏≠Êñá</button>
                    <button class="toggle-btn" id="langEn">ENGLISH</button>
                </div>
            </div>

            <div class="setting-row">
                <label class="setting-label">ÂêØÂä®ÊñπÂºè</label>
                <div class="toggle-group">
                    <button class="toggle-btn active" id="startStop">ÂÅúÊ≠¢</button>
                    <button class="toggle-btn" id="startCold">ÂÜ∑ÂêØ</button>
                    <button class="toggle-btn" id="startHot">ÁÉ≠ÂêØ</button>
                </div>
            </div>

            <div class="setting-row">
                <label class="setting-label">Â§öÂè∞ËøûÊé•‰ΩøËÉΩ</label>
                <div class="toggle-group">
                    <button class="toggle-btn active" id="multiNo">Âê¶</button>
                    <button class="toggle-btn" id="multiYes">ÊòØ</button>
                </div>
            </div>

            <button class="input-settings-btn" onclick="navigateTo('menu')">ËæìÂÖ•ËÆæÁΩÆ</button>
        </div>
    </div>

    <!-- ÈÄöËÆØËÆæÁΩÆÈ°µÈù¢ (WK3) -->
    <div id="communicationPage" class="page">
        <div class="header">
            <button class="menu-btn orange" onclick="navigateTo('menu')">ÁõÆÂΩï</button>
            <h1 class="header-title">ÈÄöËÆØËÆæÁΩÆ</h1>
        </div>

        <div class="communication-content">
            <div class="comm-row">
                <label class="comm-label">ÈÄö‰ø°ÂçèËÆÆ</label>
                <div class="protocol-toggle">
                    <button class="protocol-btn active" id="rtuBtn">RTU</button>
                    <button class="protocol-btn" id="tcpBtn">TCP</button>
                </div>
            </div>

            <!-- RTU ËÆæÁΩÆÁïåÈù¢ -->
            <div id="rtuSettings" class="protocol-settings">
                <div class="comm-row">
                    <label class="comm-label">Á´ØÂè£Âè∑</label>
                    <select class="comm-input" id="portNumber">
                        <option>COM12</option>
                        <option>COM1</option>
                        <option>COM2</option>
                    </select>
                    <label class="comm-label">Ê≥¢ÁâπÁéá</label>
                    <select class="comm-input" id="baudRate">
                        <option>9600</option>
                        <option>19200</option>
                        <option>38400</option>
                    </select>
                </div>

                <div class="comm-row">
                    <label class="comm-label">ÂÅúÊ≠¢‰Ωç</label>
                    <select class="comm-input" id="stopBit">
                        <option>1</option>
                        <option>2</option>
                    </select>
                    <label class="comm-label">Êï∞ÊçÆ‰Ωç</label>
                    <select class="comm-input" id="dataBit">
                        <option>8</option>
                        <option>7</option>
                    </select>
                </div>

                <div class="comm-row">
                    <label class="comm-label">Â•áÂÅ∂Ê†°È™å</label>
                    <select class="comm-input" id="parity">
                        <option>N</option>
                        <option>E</option>
                        <option>O</option>
                    </select>
                    <label class="comm-label">ÈÄö‰ø°Âú∞ÂùÄ</label>
                    <input type="number" class="comm-input" id="commAddress" value="1">
                    <button class="connect-btn" id="connectBtn">ËøûÊé•</button>
                </div>

                <div class="server-upload">
                    <label class="comm-label">‰∏ä‰º†ÊúçÂä°Âô®</label>
                    <input type="text" class="server-input" id="serverUrl" placeholder="ËæìÂÖ•ÊúçÂä°Âô®Âú∞ÂùÄ">
                    <button class="upload-btn" id="uploadBtn">‰∏ä‰º†</button>
                </div>
            </div>

            <!-- TCP ËÆæÁΩÆÁïåÈù¢ -->
            <div id="tcpSettings" class="protocol-settings" style="display: none;">
                <div class="comm-row">
                    <label class="comm-label">Â±èIPÂú∞ÂùÄ</label>
                    <input type="text" class="comm-input" id="screenIp" value="192.168.0.146">
                    <label class="comm-label">Á´ØÂè£Âè∑</label>
                    <input type="number" class="comm-input" id="tcpPort" value="8000">
                </div>

                <div class="comm-row">
                    <button class="connect-btn" id="tcpConnectBtn">ËøûÊé•</button>
                </div>
            </div>
        </div>
    </div>

    <!-- È¢ÑÁ∫¶ËÆæÁΩÆÈ°µÈù¢ (WK5) -->
    <div id="appointmentPage" class="page">
        <div class="header">
            <button class="menu-btn orange" onclick="navigateTo('menu')">ÁõÆÂΩï</button>
            <h1 class="header-title">È¢ÑÁ∫¶ËÆæÁΩÆ</h1>
        </div>

        <div class="appointment-content">
            <div class="time-section">
                <label class="time-label">Á≥ªÁªüÊó∂Èó¥</label>
                <div class="time-inputs">
                    <input type="number" class="time-input" id="sysYear" value="0000">
                    <span class="time-unit">Âπ¥</span>
                    <input type="number" class="time-input" id="sysMonth" value="00">
                    <span class="time-unit">Êúà</span>
                    <input type="number" class="time-input" id="sysDay" value="00">
                    <span class="time-unit">Êó•</span>
                </div>
                <div class="time-inputs">
                    <input type="number" class="time-input" id="sysHour" value="00">
                    <span class="time-unit">Êó∂</span>
                    <input type="number" class="time-input" id="sysMinute" value="00">
                    <span class="time-unit">ÂàÜ</span>
                    <input type="number" class="time-input" id="sysSecond" value="00">
                    <span class="time-unit">Áßí</span>
                </div>
            </div>

            <div class="time-section">
                <label class="time-label">È¢ÑÁ∫¶Êó∂Èó¥</label>
                <div class="time-inputs">
                    <input type="number" class="time-input" id="resYear" value="0000">
                    <span class="time-unit">Âπ¥</span>
                    <input type="number" class="time-input" id="resMonth" value="00">
                    <span class="time-unit">Êúà</span>
                    <input type="number" class="time-input" id="resDay" value="00">
                    <span class="time-unit">Êó•</span>
                </div>
                <div class="time-inputs">
                    <input type="number" class="time-input" id="resHour" value="00">
                    <span class="time-unit">Êó∂</span>
                    <input type="number" class="time-input" id="resMinute" value="00">
                    <span class="time-unit">ÂàÜ</span>
                    <input type="number" class="time-input" id="resSecond" value="00">
                    <span class="time-unit">Áßí</span>
                </div>
            </div>

            <div class="time-section">
                <label class="time-label">È¢ÑÁ∫¶ËÆæÁΩÆ</label>
                <div class="toggle-group">
                    <button class="toggle-btn active" id="appointmentOff">ÂÖ≥</button>
                    <button class="toggle-btn" id="appointmentOn">ÂºÄ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ÂÆöÂÄºËÆæÁΩÆÈ°µÈù¢ (WK2) -->
    <div id="valueSettingsPage" class="page">
        <div class="header">
            <button class="menu-btn orange" onclick="navigateTo('menu')">ËøîÂõû</button>
            <h1 class="header-title">ÂÆöÂÄºËÆæÁΩÆ</h1>
            <button class="menu-btn orange" onclick="navigateTo('standby')">ÂæÖÊú∫</button>
        </div>

        <div class="value-settings-content">
            <div class="value-setting-row">
                <label class="value-setting-label">ÂÆöÊó∂ËøêË°å</label>
                <div class="toggle-group">
                    <button class="toggle-btn active" id="timerOff">ÂÖ≥</button>
                    <button class="toggle-btn" id="timerOn">ÂºÄ</button>
                </div>
                <input type="number" class="value-input" id="runTimeInput" value="0.00" step="0.01">
                <span class="value-unit">H.M</span>
            </div>

            <div class="value-setting-row">
                <label class="value-setting-label">Ê∏©Â∫¶</label>
                <input type="number" class="value-input" id="setTempInput" value="0.0" step="0.1">
                <span class="value-unit">¬∞C/M</span>
            </div>

            <div class="value-setting-row">
                <label class="value-setting-label">ÊπøÂ∫¶</label>
                <input type="number" class="value-input" id="setHumInput" value="0.0" step="0.1">
                <span class="value-unit">%/M</span>
            </div>
        </div>
    </div>

    <!-- Á®ãÂºèÁºñËæëÈ°µÈù¢ (WK4) -->
    <div id="programEditPage" class="page">
        <div class="header">
            <button class="menu-btn orange" onclick="navigateTo('menu')">ËøîÂõû</button>
            <h1 class="header-title">Á®ãÂºèÁºñËæë</h1>
            <button class="menu-btn orange" onclick="navigateTo('standby')">ÂæÖÊú∫</button>
        </div>

        <div class="program-edit-content">
            <div class="program-info-row">
                <label class="program-info-label">Á®ãÂºèÁºñÂè∑</label>
                <input type="number" class="program-info-input" id="progNumber" value="000">
                <label class="program-info-label">Âæ™ÁéØ</label>
                <input type="number" class="program-info-input" id="progCycle" value="000">
                <label class="program-info-label">ËøûÊé•</label>
                <input type="number" class="program-info-input" id="progConnect" value="000">
            </div>

            <div class="program-table-container">
                <table class="program-table">
                    <thead>
                    <tr>
                        <th>No.</th>
                        <th>Ê∏©Â∫¶(‚ÑÉ)</th>
                        <th>ÊπøÂ∫¶(%)</th>
                        <th>Êó∂Èó¥(H.M)</th>
                        <th>TS1</th>
                        <th>TS2</th>
                        <th>TS3</th>
                        <th>TS4</th>
                    </tr>
                    </thead>
                    <tbody id="programTableBody">
                    <tr>
                        <td>01</td>
                        <td><input type="number" class="table-input" value="0.0"></td>
                        <td><input type="number" class="table-input" value="0.0"></td>
                        <td><input type="number" class="table-input" value="0.00"></td>
                        <td><button class="table-off-btn">OFF</button></td>
                        <td><button class="table-off-btn">OFF</button></td>
                        <td><button class="table-off-btn">OFF</button></td>
                        <td><button class="table-off-btn">OFF</button></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- ËøêË°åÁ°ÆËÆ§Á™óÂè£ -->
<div id="runConfirmModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modalTitle">ËøêË°å</h3>
        </div>
        <div class="modal-buttons">
            <button class="modal-btn modal-btn-no" id="modalNo">Âê¶</button>
            <button class="modal-btn modal-btn-yes" id="modalYes">ÊòØ</button>
        </div>
    </div>
</div>

<!-- Êï∞ÂÄºËæìÂÖ•ÂØπËØùÊ°Ü -->
<div id="valueInputModal" class="modal">
    <div class="value-input-content">
        <div class="value-input-header">
            <div class="value-input-label" id="valueInputLabel">ËÆæÂÆöÂÄº</div>
            <div class="value-input-range" id="valueInputRange">[-200.00 - 400.00]</div>
            <div class="value-input-field">
                <input type="text" id="valueInput" placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº">
            </div>
        </div>
        <div class="value-keypad">
            <div class="keypad-row">
                <button class="keypad-btn" data-value="0">0</button>
                <button class="keypad-btn" data-value="1">1</button>
                <button class="keypad-btn" data-value="2">2</button>
                <button class="keypad-btn" data-value="3">3</button>
                <button class="keypad-btn" data-value="4">4</button>
            </div>
            <div class="keypad-row">
                <button class="keypad-btn" data-value="5">5</button>
                <button class="keypad-btn" data-value="6">6</button>
                <button class="keypad-btn" data-value="7">7</button>
                <button class="keypad-btn" data-value="8">8</button>
                <button class="keypad-btn" data-value="9">9</button>
            </div>
            <div class="keypad-row">
                <button class="keypad-btn" id="keypadSign">+/-</button>
                <button class="keypad-btn" id="keypadBackspace">‚Üê</button>
                <button class="keypad-btn" id="keypadExit">ÈÄÄÂá∫</button>
                <button class="keypad-btn" data-value=".">.</button>
                <button class="keypad-btn" id="keypadClear">Ê∏ÖÈô§</button>
            </div>
            <div class="keypad-row">
                <button class="keypad-btn keypad-confirm" id="keypadConfirm">Á°ÆËÆ§</button>
            </div>
        </div>
    </div>
</div>

<script src="/css/reliablityLab/app.js"></script>
<script>
// Âä®ÊÄÅËé∑ÂèñU680-01Ê∏©Â∫¶Ôºà‰ªéÊï∞ÊçÆÂ∫ìÊúÄÊñ∞‰∏ÄÊù°ËÆ∞ÂΩïÔºâ
function fetchTemperature(deviceId) {
    fetch('/iot/data/latest')
        .then(res => res.json())
        .then(data => {
            const tempDiv = document.getElementById(`tempValue-${deviceId}`);
            if (tempDiv && data && data.temperature != null) {
                const value = Number(data.temperature).toFixed(2);
                tempDiv.innerHTML = value + '<span class="unit">‚ÑÉ</span>';
            }

            // ÊπøÂ∫¶
            const humDiv = document.getElementById(`humidityValue-${deviceId}`);
            if (humDiv && data && data.humidity != null) {
                const h = Number(data.humidity).toFixed(2);
                humDiv.innerHTML = h + '<span class="unit">%</span>';
            }

            // ÂΩìÂâçÊ®°Âºè
            const modeSpan = document.getElementById(`mode-${deviceId}`);
            if (modeSpan && data && data.run_mode != null) {
                modeSpan.textContent = String(data.run_mode);
            }

            // ËøêË°åÊó∂Èó¥
            const rtSpan = document.getElementById(`runtime-${deviceId}`);
            const hStr = data && data.run_hours != null ? String(data.run_hours) : '0';
            const mStr = data && data.run_minutes != null ? String(data.run_minutes) : '0';
            const sStr = data && data.run_seconds != null ? String(data.run_seconds) : '0';
            if (rtSpan) {
                const hh = parseInt(hStr, 10) || 0;
                const mm = parseInt(mStr, 10) || 0;
                const ss = parseInt(sStr, 10) || 0;
                rtSpan.textContent = `${hh}H ${String(mm).padStart(2,'0')}M ${String(ss).padStart(2,'0')}S`;
            }

            // Ââ©‰ΩôÊó∂Èó¥ÔºàÊú¨ÊÆµÔºâ
            const remSpan = document.getElementById(`remainingTime-${deviceId}`);
            const rhStr = data && data.step_remaining_hours != null ? String(data.step_remaining_hours) : '0';
            const rmStr = data && data.step_remaining_minutes != null ? String(data.step_remaining_minutes) : '0';
            const rsStr = data && data.step_remaining_seconds != null ? String(data.step_remaining_seconds) : '0';
            if (remSpan) {
                const rh = parseInt(rhStr, 10) || 0;
                const rm = parseInt(rmStr, 10) || 0;
                const rs = parseInt(rsStr, 10) || 0;
                remSpan.textContent = `${rh}H ${String(rm).padStart(2,'0')}M ${String(rs).padStart(2,'0')}S`;
            }

            // ÂäüÁéáÂÄº
            const tpSpan = document.getElementById(`tempPower-${deviceId}`);
            if (tpSpan && data && data.power_temperature != null) {
                tpSpan.textContent = `${data.power_temperature}%`;
            }
            const hpSpan = document.getElementById(`humidityPower-${deviceId}`);
            if (hpSpan && data && data.power_humidity != null) {
                hpSpan.textContent = `${data.power_humidity}%`;
            }
        })
        .catch(err => { /* ÂèØÈÄâ: ÈîôËØØÂ§ÑÁêÜ */ });
}
document.addEventListener('DOMContentLoaded', function() {
    fetchTemperature('U680-01');
    setInterval(() => fetchTemperature('U680-01'), 5000); // 5ÁßíÊõ¥Êñ∞‰∏ÄÊ¨°
});
</script>
</body>
</html>
